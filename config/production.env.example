# ==============================================
# TalentSphere Production Environment Configuration
# ==============================================

# Core Configuration
NODE_ENV=production
LOG_LEVEL=info

# Database Configuration
POSTGRES_HOST=${POSTGRES_HOST:-prod-db.talentsphere.com}
POSTGRES_PORT=5432
POSTGRES_DB=talentsphere
POSTGRES_USER=talentsphere_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SSL_MODE=prefer
POSTGRES_POOL_MIN=5
POSTGRES_POOL_MAX=20
POSTGRES_CONNECTION_TIMEOUT=30000

# Redis Configuration
REDIS_HOST=${REDIS_HOST:-prod-redis.talentsphere.com}
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER_IN=30d

# Application Configuration
APP_DOMAIN=https://talentsphere.com
API_DOMAIN=api.talentsphere.com
CORS_ALLOWED_ORIGINS=https://talentsphere.com,https://api.talentsphere.com,https://admin.talentsphere.com
FRONTEND_DOMAIN=https://frontends.talentsphere.com

# Email Configuration (Amazon SES)
BACKUP_EMAIL_SERVICE=ses
BACKUP_EMAIL_REGION=us-east-1
BACKUP_EMAIL_FROM=talentsphere-backups@amazonaws.com
BACKUP_EMAIL_TO=admin@talentsphere.com
BACKUP_SUCCESS_SUBJECT=✅ Database Backup Successful
BACKUP_FAILURE_SUBJECT=❌ Database Backup Failed

# AWS Configuration (S3)
S3_BUCKET=talentsphere-backups-us-east-1
S3_ACCESS_KEY=${AWS_ACCESS_KEY}
S3_SECRET_KEY=${AWS_SECRET_KEY}
S3_REGION=us-east-1

# Monitoring Configuration
PROMETHEUS_ENDPOINT=http://localhost:4046
GRAFANA_DASHBOARD=http://localhost:3011
ALERT_EMAIL=${ALERT_EMAIL}
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
HEALTH_CHECK_ENABLED=true

# CORS Security
ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
CSP_HEADERS_ENABLED=true
RATE_LIMITING_ENABLED=true
RATE_LIMITING_REQUESTS_PER_MIN=10
RATE_LIMITING_WINDOW_MS=900000

# Input Validation and Sanitization
INPUT_VALIDATION_ENABLED=true
XSS_PROTECTION_ENABLED=true
SQL_INJECTION_PROTECTION=true
CSRF_PROTECTION_ENABLED=true

# Database Security
ENCRYPTION_AT_REST=true
ENCRYPTION_KEY=${ENCRYPTION_KEY}

# Session Security
SESSION_SECRET=${SESSION_SECRET}
SESSION_TIMEOUT=86400000
SESSION_HTTP_ONLY=true

# File Upload Security
MAX_FILE_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,doc,docx,xls
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,image/svg,image/webp,application/pdf,application/msword,application/vnd.openxml,application/vnd.ms-excel,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.openxml,image/svg+xml,application/json,text/plain,application/json
VIRUS_SCAN_ENABLED=true

# API Gateway Security
API_GATEWAY_JWT_SECRET=${API_GATEWAY_JWT_SECRET}

# Rate Limiting
API_GATEWAY_REQUESTS_PER_MIN=100
API_GATEWAY_REQUESTS_PER_HOUR=1000
API_GATEWAY_JWT_CACHE_TTL=300
API_GATEWAY_CORS_TIMEOUT=5000

# Service Mesh (Future)
SERVICE_MESH_ENABLED=false
CONSUL_URL=https://consul.talentsphere.com
SERVICE_MESH_TOKEN=${SERVICE_MESH_TOKEN}

# Performance Monitoring
METRICS_ENABLED=true
PROMETHEUS_ENDPOINT=http://localhost:4046
JAEGER_AGENT_URL=http://localhost:4046
TELEMETRICS_PORT=9091

# SSL/TLS Configuration
TLS_ENABLED=true
TLS_VERSION=TLSv1.3
MIN_TLS_VERSION=1.2

# ==============================================
# Feature Flags
# ==============================================

# Security Features
FEATURE_SECURITY_HEADERS=true
FEATURE_INPUT_VALIDATION=true
FEATURE_RATE_LIMITING=true
FEATURE_SQL_INJECTION_PROTECTION=true
FEATURE_XSS_PROTECTION=true
FEATURE_CSRF_PROTECTION=true

# Backup Features
FEATURE_DATABASE_BACKUPS=true
FEATURE_FILE_SCAN_ENABLED=true
FEATURE_VIRUS_SCAN_ENABLED=true

# Monitoring Features  
FEATURE_HEALTH_CHECKS=true
FEATURE_PERFORMANCE_MONITORING=true
FEATURE_ERROR_ALERTING=true

# Development Features (disabled in production)
FEATURE_DEBUG_LOGGING=false
FEATURE_DEVELOPER_MODE=false

# Testing Features (disabled in production)
FEATURE_TEST_MODE=false

# ==============================================
# Emergency Contacts
# ==============================================

SYSTEM_ADMIN_EMAIL=admin@talentsphere.com
SECURITY_ALERT_EMAIL=${SECURITY_ALERT_EMAIL}
OPERATIONS_ALERT_EMAIL=${OPERATIONS_ALERT_EMAIL}

INFRASTRUCTURE_ALERT_EMAIL=${INFRASTRUCTURE_ALERT_EMAIL}
DATA_BREACH_ALERT_EMAIL=${DATA_BREACH_ALERT_EMAIL}

# ==============================================
# External Services Configuration
# ==============================================

# Third-party Services
NOTIFICATION_SERVICE_URL=${NOTIFICATION_SERVICE_URL}
EMAIL_SERVICE_URL=${EMAIL_SERVICE_URL}
SEARCH_SERVICE_URL=${SEARCH_SERVICE_URL}
FILE_STORAGE_URL=${FILE_STORAGE_URL}
VIDEO_STREAMING_URL=${VIDEO_STREAMING_URL}

# ==============================================
# Cache Configuration
CACHE_PROVIDER=redis
CACHE_DEFAULT_TTL=3600
CACHE_MAX_MEMORY_SIZE=512

# ==============================================
# Load Balancer Configuration
LOAD_BALANCER_ENABLED=false
LOAD_BALANCER_ALGORITHM=round-robin

# ==============================================
# Scaling Configuration
AUTO_SCALING_ENABLED=false
HORIZONTAL_POD_MIN=1
HORIZONTAL_POD_MAX=10
CLUSTER_ENABLED=false

# ==============================================
# Logging Configuration
LOG_LEVEL=info
AUDIT_LOGS_ENABLED=true
STRUCTURED_LOGS=true
LOG_RETENTION_DAYS=90
SECURITY_ALERTS_ENABLED=true

# ==============================================